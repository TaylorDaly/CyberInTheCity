
<table mat-table [dataSource]="listItems" class="mat-elevation-z8 list-size">

  <div *ngFor="let column of listFields; let i = index">
    <ng-container matColumnDef="{{column}}">
      <th mat-header-cell *matHeaderCellDef class="table-header">{{column.charAt(0).toUpperCase() + column.substr(1).toLowerCase()}}</th>
      <div *ngIf="column != ' '; else elseBlock">
        <td mat-cell *matCellDef="let item"> {{item[column]}}
          <!--<button type="button" class="btn btn-lg table-btn" *ngIf="i == listFields.length - 1">-->
          <!--<span class="fa fa-trash"></span>-->
          <!--</button>-->
          <!--<button type="button" class="btn btn-lg table-btn" *ngIf="i == listFields.length - 1">-->
          <!--<span class="fa fa-pencil"></span>-->
          <!--</button>-->
        </td>
      </div>
      <ng-template #elseBlock>
        <td mat-cell *matCellDef="let item">
          <button type="button" class="btn btn-lg table-btn">
            <span class="fa fa-trash"></span>
          </button>
          <button type="button" class="btn btn-lg table-btn">
            <span class="fa fa-pencil"></span>
          </button>
        </td>
      </ng-template>

    </ng-container>
  </div>

  <tr mat-header-row *matHeaderRowDef="listFields"></tr>
  <tr mat-row *matRowDef="let row; columns: listFields;"></tr>
</table>
